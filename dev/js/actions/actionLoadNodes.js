import * as ACTIONS from './actionTypes';

// The default data when the API is unreachable
var tasksDEMO = {"objects":[{"ID":"ewdzp302yh9oq5i7dj7hh0l6a","Version":{"Index":90},"CreatedAt":"2017-08-09T12:50:37.314350205Z","UpdatedAt":"2017-08-09T12:50:41.464852613Z","Labels":{},"Spec":{"ContainerSpec":{"Image":"alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe","Args":["ping","docker.com"],"DNSConfig":{}},"Resources":{"Limits":{},"Reservations":{}},"Placement":{"Platforms":[{"Architecture":"amd64","OS":"linux"}]},"ForceUpdate":0},"ServiceID":"yzhcse574lkxcr6cr5a6666tg","Slot":4,"NodeID":"q47p5wzquvd9mz3blziqlseuw","Status":{"Timestamp":"2017-08-09T12:50:41.471824802Z","State":"running","Message":"started","ContainerStatus":{"ContainerID":"b3e727fd900d0d407e3854d7ac40b21709d5a9667b6aa813034e75159c4d1c55","PID":8237},"PortStatus":{}},"DesiredState":"running"},{"ID":"tnk7zjh0fomgc7mxf820tg6c9","Version":{"Index":85},"CreatedAt":"2017-08-09T12:50:37.314237401Z","UpdatedAt":"2017-08-09T12:50:40.380185709Z","Labels":{},"Spec":{"ContainerSpec":{"Image":"alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe","Args":["ping","docker.com"],"DNSConfig":{}},"Resources":{"Limits":{},"Reservations":{}},"Placement":{"Platforms":[{"Architecture":"amd64","OS":"linux"}]},"ForceUpdate":0},"ServiceID":"yzhcse574lkxcr6cr5a6666tg","Slot":2,"NodeID":"8n33xey45an64fuln0w19nsmg","Status":{"Timestamp":"2017-08-09T12:50:40.311561114Z","State":"running","Message":"started","ContainerStatus":{"ContainerID":"744b37904ae3a303b69f00a4d8199f2b9092ac432dc885285bad1bac5199d614","PID":9766},"PortStatus":{}},"DesiredState":"running"},{"ID":"w9zg4fjqqglogliu0oqz17645","Version":{"Index":89},"CreatedAt":"2017-08-09T12:50:37.314310904Z","UpdatedAt":"2017-08-09T12:50:41.039611287Z","Labels":{},"Spec":{"ContainerSpec":{"Image":"alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe","Args":["ping","docker.com"],"DNSConfig":{}},"Resources":{"Limits":{},"Reservations":{}},"Placement":{"Platforms":[{"Architecture":"amd64","OS":"linux"}]},"ForceUpdate":0},"ServiceID":"yzhcse574lkxcr6cr5a6666tg","Slot":3,"NodeID":"o7y9e3b6822wg8ub4efe565y3","Status":{"Timestamp":"2017-08-09T12:50:40.94767421Z","State":"running","Message":"started","ContainerStatus":{"ContainerID":"100a0cee2c762056daba612994d3b07ebc827f218f878b61b26f44473122f33f","PID":8025},"PortStatus":{}},"DesiredState":"running"},{"ID":"z3lzixts3m38jeqxzpwuodf5l","Version":{"Index":76},"CreatedAt":"2017-08-09T12:49:19.455294217Z","UpdatedAt":"2017-08-09T12:49:22.936954014Z","Labels":{},"Spec":{"ContainerSpec":{"Image":"alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe","Args":["ping","docker.com"],"DNSConfig":{}},"Resources":{"Limits":{},"Reservations":{}},"Placement":{"Platforms":[{"Architecture":"amd64","OS":"linux"}]},"ForceUpdate":0},"ServiceID":"yzhcse574lkxcr6cr5a6666tg","Slot":1,"NodeID":"efodvok4fxtmd9ithfjec9d8p","Status":{"Timestamp":"2017-08-09T12:49:22.888237126Z","State":"running","Message":"started","ContainerStatus":{"ContainerID":"995ee9e18cf03b53d7e6f0b12e37e037b5639247648f3e1e1aea4d37b901751a","PID":8166},"PortStatus":{}},"DesiredState":"running"},{"ID":"zug0hyts12nt4nkeap7mdj9ae","Version":{"Index":88},"CreatedAt":"2017-08-09T12:50:37.314383906Z","UpdatedAt":"2017-08-09T12:50:40.898668769Z","Labels":{},"Spec":{"ContainerSpec":{"Image":"alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe","Args":["ping","docker.com"],"DNSConfig":{}},"Resources":{"Limits":{},"Reservations":{}},"Placement":{"Platforms":[{"Architecture":"amd64","OS":"linux"}]},"ForceUpdate":0},"ServiceID":"yzhcse574lkxcr6cr5a6666tg","Slot":5,"NodeID":"qxef1tnsgiimqiqs5xwwfego0","Status":{"Timestamp":"2017-08-09T12:50:40.892636209Z","State":"running","Message":"started","ContainerStatus":{"ContainerID":"e9c5f834d78f4d6e9e613f09ef4c2c5c47ac66c82096ba03238b01db586d5678","PID":8254},"PortStatus":{}},"DesiredState":"running"}]};
var nodesDEMO = {"objects":[{"ID":"5uduljzedkfaolouzcit7gldj","Version":{"Index":64},"CreatedAt":"2017-08-09T10:49:10.60817254Z","UpdatedAt":"2017-08-09T12:07:50.010147217Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000003","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[]}},"Status":{"State":"down","Message":"heartbeat failure","Addr":"10.0.0.9"}},{"ID":"6d7rdqguz5jh4du59jb28rfak","Version":{"Index":64},"CreatedAt":"2017-08-09T10:48:57.982982359Z","UpdatedAt":"2017-08-09T12:07:50.010207317Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000005","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[]}},"Status":{"State":"down","Message":"heartbeat failure","Addr":"10.0.0.11"}},{"ID":"8n33xey45an64fuln0w19nsmg","Version":{"Index":65},"CreatedAt":"2017-08-09T10:41:25.714259613Z","UpdatedAt":"2017-08-09T12:07:50.062098318Z","Spec":{"Labels":{},"Role":"manager","Availability":"active"},"Description":{"Hostname":"swarm-manager0","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747013632},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"ready","Addr":"10.0.0.4"},"ManagerStatus":{"Reachability":"reachable","Addr":"10.0.0.4:2377"}},{"ID":"efodvok4fxtmd9ithfjec9d8p","Version":{"Index":65},"CreatedAt":"2017-08-09T10:48:48.671226002Z","UpdatedAt":"2017-08-09T12:07:50.062045918Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000001","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"ready","Addr":"10.0.0.7"}},{"ID":"jlbuytfkb54ys4twz4jql4i7d","Version":{"Index":64},"CreatedAt":"2017-08-09T10:48:50.913809471Z","UpdatedAt":"2017-08-09T12:07:50.010297117Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000006","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"down","Message":"heartbeat failure","Addr":"10.0.0.12"}},{"ID":"o7y9e3b6822wg8ub4efe565y3","Version":{"Index":65},"CreatedAt":"2017-08-09T10:41:32.303561114Z","UpdatedAt":"2017-08-09T12:07:50.062133918Z","Spec":{"Labels":{},"Role":"manager","Availability":"active"},"Description":{"Hostname":"swarm-manager1","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747013632},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"ready","Addr":"0.0.0.0"},"ManagerStatus":{"Leader":true,"Reachability":"reachable","Addr":"10.0.0.5:2377"}},{"ID":"q47p5wzquvd9mz3blziqlseuw","Version":{"Index":66},"CreatedAt":"2017-08-09T10:48:29.20026252Z","UpdatedAt":"2017-08-09T12:07:51.028084102Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000002","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"ready","Addr":"10.0.0.8"}},{"ID":"qxef1tnsgiimqiqs5xwwfego0","Version":{"Index":67},"CreatedAt":"2017-08-09T10:48:54.79183574Z","UpdatedAt":"2017-08-09T12:07:54.519454104Z","Spec":{"Labels":{},"Role":"worker","Availability":"active"},"Description":{"Hostname":"swarm-worker000004","Platform":{"Architecture":"x86_64","OS":"linux"},"Resources":{"NanoCPUs":1000000000,"MemoryBytes":1747345408},"Engine":{"EngineVersion":"17.06.0-ce","Plugins":[{"Type":"Log","Name":"awslogs"},{"Type":"Log","Name":"fluentd"},{"Type":"Log","Name":"gcplogs"},{"Type":"Log","Name":"gelf"},{"Type":"Log","Name":"journald"},{"Type":"Log","Name":"json-file"},{"Type":"Log","Name":"logentries"},{"Type":"Log","Name":"splunk"},{"Type":"Log","Name":"syslog"},{"Type":"Network","Name":"bridge"},{"Type":"Network","Name":"host"},{"Type":"Network","Name":"macvlan"},{"Type":"Network","Name":"null"},{"Type":"Network","Name":"overlay"},{"Type":"Volume","Name":"local"}]},"TLSInfo":{"TrustRoot":"-----BEGIN CERTIFICATE-----\nMIIBajCCARCgAwIBAgIUPIOBr5mPbyoDvhXQFUkk6q6CZMwwCgYIKoZIzj0EAwIw\nEzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODA5MTAzNjAwWhcNMzcwODA0MTAz\nNjAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH\nA0IABH2g+Ar5siaO42L6qob7l0jyex6NKCZ7HEoJ0wad+JWIBalzc3d1olbgpg8Y\nJ4xrnrspQJvuwXBJde4j8855dRSjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\nAf8EBTADAQH/MB0GA1UdDgQWBBShi4gN1GiQgFLeNVw4Hb9o9fbCazAKBggqhkjO\nPQQDAgNIADBFAiAh+57Tt/kNyamz3jxZ3w3wc4wKuODhzqGaraIfmRFQxAIhAMf0\naYiW9Br1g1eCnqYmpUe7xaHim55UGhdn0hOpWS5c\n-----END CERTIFICATE-----\n","CertIssuerSubject":"MBMxETAPBgNVBAMTCHN3YXJtLWNh","CertIssuerPublicKey":"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEfaD4CvmyJo7jYvqqhvuXSPJ7Ho0oJnscSgnTBp34lYgFqXNzd3WiVuCmDxgnjGueuylAm+7BcEl17iPzznl1FA=="}},"Status":{"State":"ready","Addr":"10.0.0.10"}}]};

function getAllNodesAsync(data) {
    return {
        type: ACTIONS.GET_NODES,
        payload: data
    };
}

function mergeTasks(nodes, tasks) {
    tasks.map((task) => {
        nodes.map((node) => {            
            if(task.NodeID === node.ID) {
                node.tasks = node.tasks || [];
                node.tasks.push(task);
            }
        });
    });
    return nodes;
}

function fillTasks(nodes, onCompleted) {
	axios.get('/api/tasks')
			.then(res => {
				onCompleted(mergeTasks(nodes, res.data));
			}, error => {
                onCompleted(mergeTasks(nodes, tasksDEMO.objects));
			});
}

export default function getAllNodes() {
    return dispatch => {        
        axios.get('/api/nodes')
             .then(res => {
				 fillTasks(res.data, function(nodesWithTasks){
                    dispatch(getAllNodesAsync(nodesWithTasks));
				 });
             }, error => {
				 fillTasks(nodesDEMO.objects, function(nodesWithTasks){
                    dispatch(getAllNodesAsync(nodesWithTasks));
				 });
             });
    }
}